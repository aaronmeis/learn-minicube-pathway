<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 580" font-family="Segoe UI, system-ui, sans-serif">
  <defs>
    <filter id="shadow2"><feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/></filter>
    <linearGradient id="g2a" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#6366f1"/><stop offset="100%" stop-color="#4f46e5"/></linearGradient>
    <linearGradient id="g2b" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#06b6d4"/><stop offset="100%" stop-color="#0891b2"/></linearGradient>
    <linearGradient id="g2c" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#10b981"/><stop offset="100%" stop-color="#059669"/></linearGradient>
    <linearGradient id="g2d" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#d97706"/></linearGradient>
    <linearGradient id="g2e" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#8b5cf6"/><stop offset="100%" stop-color="#7c3aed"/></linearGradient>
    <marker id="a2b" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#38bdf8"/></marker>
    <marker id="a2g" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#94a3b8"/></marker>
  </defs>
  <rect width="800" height="580" rx="12" fill="#0f172a"/>
  <text x="400" y="38" text-anchor="middle" fill="#e2e8f0" font-size="20" font-weight="700">Phase 2: Medium — Frontend + Dual Agents</text>
  <!-- Cluster -->
  <rect x="30" y="55" width="740" height="390" rx="10" fill="none" stroke="#334155" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="50" y="77" fill="#64748b" font-size="11" font-weight="600">DOCKER DESKTOP KUBERNETES</text>
  <!-- Frontend -->
  <rect x="50" y="95" width="155" height="100" rx="8" fill="url(#g2c)" filter="url(#shadow2)"/>
  <text x="127" y="122" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">Frontend</text>
  <text x="127" y="140" text-anchor="middle" fill="#d1fae5" font-size="10">React + Nginx</text>
  <text x="127" y="158" text-anchor="middle" fill="#a7f3d0" font-size="9">NodePort:30080</text>
  <text x="127" y="175" text-anchor="middle" fill="#6ee7b7" font-size="9">frontend:1.0</text>
  <!-- Flask API -->
  <rect x="250" y="95" width="155" height="100" rx="8" fill="url(#g2d)" filter="url(#shadow2)"/>
  <text x="327" y="122" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">Flask API</text>
  <text x="327" y="140" text-anchor="middle" fill="#fef3c7" font-size="10">REST Gateway</text>
  <text x="327" y="158" text-anchor="middle" fill="#fde68a" font-size="9">POST /task</text>
  <text x="327" y="175" text-anchor="middle" fill="#fcd34d" font-size="9">GET /results</text>
  <!-- RabbitMQ -->
  <rect x="460" y="95" width="155" height="100" rx="8" fill="url(#g2a)" filter="url(#shadow2)"/>
  <text x="537" y="122" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">RabbitMQ</text>
  <text x="537" y="140" text-anchor="middle" fill="#c7d2fe" font-size="10">MCP Server</text>
  <text x="537" y="158" text-anchor="middle" fill="#e0e7ff" font-size="9">"tasks" queue</text>
  <text x="537" y="175" text-anchor="middle" fill="#e0e7ff" font-size="9">"results" queue</text>
  <!-- Arrows top row -->
  <line x1="205" y1="140" x2="250" y2="140" stroke="#38bdf8" stroke-width="2" marker-end="url(#a2b)"/>
  <line x1="405" y1="140" x2="460" y2="140" stroke="#38bdf8" stroke-width="2" marker-end="url(#a2b)"/>
  <!-- Agent 1 -->
  <rect x="420" y="250" width="155" height="90" rx="8" fill="url(#g2b)" filter="url(#shadow2)"/>
  <text x="497" y="277" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">Agent 1</text>
  <text x="497" y="295" text-anchor="middle" fill="#cffafe" font-size="10">Python Worker</text>
  <text x="497" y="312" text-anchor="middle" fill="#a5f3fc" font-size="9">replica 1</text>
  <!-- Agent 2 -->
  <rect x="610" y="250" width="155" height="90" rx="8" fill="url(#g2b)" filter="url(#shadow2)"/>
  <text x="687" y="277" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">Agent 2</text>
  <text x="687" y="295" text-anchor="middle" fill="#cffafe" font-size="10">Python Worker</text>
  <text x="687" y="312" text-anchor="middle" fill="#a5f3fc" font-size="9">replica 2</text>
  <!-- RabbitMQ to agents -->
  <line x1="510" y1="195" x2="497" y2="250" stroke="#38bdf8" stroke-width="1.5" marker-end="url(#a2b)"/>
  <line x1="565" y1="195" x2="687" y2="250" stroke="#38bdf8" stroke-width="1.5" marker-end="url(#a2b)"/>
  <text x="580" y="225" fill="#64748b" font-size="9">competing consumers</text>
  <!-- Namespace -->
  <rect x="280" y="380" width="200" height="28" rx="14" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="380" y="399" text-anchor="middle" fill="#64748b" font-size="10">namespace: task-system</text>
  <!-- Port forward -->
  <line x1="127" y1="445" x2="127" y2="480" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#a2g)"/>
  <!-- User -->
  <rect x="50" y="485" width="260" height="70" rx="8" fill="url(#g2e)" filter="url(#shadow2)"/>
  <text x="180" y="512" text-anchor="middle" fill="#fff" font-size="13" font-weight="700">User (Browser)</text>
  <text x="180" y="530" text-anchor="middle" fill="#ddd6fe" font-size="10">React UI — submit tasks, view results</text>
  <text x="180" y="546" text-anchor="middle" fill="#c4b5fd" font-size="9">http://localhost:30080</text>
  <!-- Flow legend -->
  <rect x="420" y="485" width="310" height="70" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
  <text x="575" y="508" text-anchor="middle" fill="#94a3b8" font-size="11" font-weight="600">Data Flow</text>
  <text x="440" y="528" fill="#cbd5e1" font-size="9">Browser -> Flask API -> RabbitMQ -> Agents</text>
  <text x="440" y="545" fill="#cbd5e1" font-size="9">Agents -> "results" queue -> Flask API -> Browser</text>
</svg>
